<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8" />
  <title></title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    .wrap {
      width: 300px;
      margin: 100px auto 0;
    }

    table {
      border-collapse: collapse;
      border-spacing: 0;
      border: 1px solid #c0c0c0;
      width: 300px;
    }

    th,
    td {
      border: 1px solid #d0d0d0;
      color: #404060;
      padding: 10px;
    }

    th {
      background-color: #09c;
      font: bold 16px '微软雅黑';
      color: #fff;
    }

    td {
      font: 14px '微软雅黑';
    }

    tbody tr {
      background-color: #f0f0f0;
      text-align: center;
    }

    tbody tr:hover {
      cursor: pointer;
      background-color: #fafafa;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <table>
      <thead>
        <tr>
          <th>
            <input type="checkbox" id="all" />
          </th>
          <th>菜名</th>
          <th>饭店</th>
        </tr>
      </thead>
      <tbody id="j_tb">
        <tr>
          <td>
            <input type="checkbox" />
          </td>
          <td>红烧肉</td>
          <td>田老师</td>
        </tr>
        <tr>
          <td>
            <input type="checkbox" />
          </td>
          <td>西红柿鸡蛋</td>
          <td>田老师</td>
        </tr>
        <tr>
          <td>
            <input type="checkbox" />
          </td>
          <td>红烧狮子头</td>
          <td>田老师</td>
        </tr>
        <tr>
          <td>
            <input type="checkbox" />
          </td>
          <td>日式肥牛</td>
          <td>田老师</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    // 功能一：点击全选的checkbox，控制下面所有的checkbox

    // 1. 找对象
    // 2. 给全选的checkbox注册点击事件
    // 3. 控制下面所有的checkbox的选中
    var all = document.querySelector('#all');
    var inputs = document.querySelectorAll('tbody input');
    // console.log(all, );
    all.onclick = function () {
      // 让下面所有的选中或者不选中
      for (var i = 0; i < inputs.length; i++) {
        inputs[i].checked = all.checked;
        // if (all.checked === true) {
        //   inputs[i].checked = true
        // } else {
        //   inputs[i].checked = false;
        // }
      }
    }

    // 功能二：点击下面的checkbox，控制全选的checkbox
    // 1. 给下面所有的checkbox注册点击事件
    // 2. 判断下面的checkbox是否全选中，如果全选中，上面的就选中，否则就不选中
    // for (var i = 0; i < inputs.length; i++) {
    //   inputs[i].onclick = function () {
    //     // console.log('123');
    //     // console.log(this.checked);
    //     // 3.1 假设下面全选中
    //     var flag = true;
    //     for (var i = 0; i < inputs.length; i++) {
    //       // 3.2 找打脸条件
    //       if (inputs[i].checked === false) {
    //         // 有没选中的
    //         flag = false;
    //         break;
    //       }
    //     }
    //     // 3.3 判断假设是否成立
    //     // if (flag === true) {
    //     //   all.checked = true;
    //     // } else {
    //     //   all.checked = false;
    //     // }
    //     all.checked = flag;
    //   }
    // }
  </script>
</body>

</html>